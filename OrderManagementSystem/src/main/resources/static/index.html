<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 900px;
            overflow: hidden;
        }

        header {
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .tabs {
            display: flex;
            background: #f1f5f9;
            border-bottom: 2px solid #e2e8f0;
        }

        .tab {
            flex: 1;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            color: #64748b;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            color: #4f46e5;
            background: white;
            border-bottom-color: #4f46e5;
        }

        .tab:hover {
            background: #e2e8f0;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: #f8fafc;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e2e8f0;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .card h3 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .card p {
            color: #475569;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .btn {
            background: linear-gradient(90deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
        }

        .btn-secondary {
            background: #64748b;
        }

        .btn-success {
            background: #10b981;
        }

        .btn-danger {
            background: #ef4444;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #4f46e5;
            margin: 10px 0;
        }

        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        footer {
            text-align: center;
            padding: 20px;
            color: #64748b;
            border-top: 1px solid #e2e8f0;
            background: #f8fafc;
        }

        .api-info {
            background: #f0f9ff;
            border: 2px solid #0ea5e9;
            border-radius: 12px;
            padding: 20px;
            margin-top: 30px;
        }

        .api-info code {
            background: #1e293b;
            color: #e2e8f0;
            padding: 10px;
            border-radius: 6px;
            display: block;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
    </style>
</head>
<body>
<div class="container">
    <header>
        <h1>üì¶ –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏</h1>
        <p>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø—Ä–∏—ë–º–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ–ø–ª–∞—Ç—ã –∑–∞–∫–∞–∑–æ–≤</p>
    </header>

    <div class="tabs">
        <div class="tab active" onclick="switchTab('dashboard')">üìä –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
        <div class="tab" onclick="switchTab('customers')">üë• –ü–æ–∫—É–ø–∞—Ç–µ–ª–∏</div>
        <div class="tab" onclick="switchTab('products')">üõí –¢–æ–≤–∞—Ä—ã</div>
        <div class="tab" onclick="switchTab('orders')">üìã –ó–∞–∫–∞–∑—ã</div>
        <div class="tab" onclick="switchTab('api')">üîó API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</div>
    </div>

    <div id="dashboard" class="tab-content active">
        <div class="stats">
            <div class="stat-item">
                <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</div>
                <div class="stat-number" id="totalCustomers">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</div>
                <div class="stat-number" id="totalProducts">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</div>
                <div class="stat-number" id="activeOrders">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">–í—ã—Ä—É—á–∫–∞</div>
                <div class="stat-number" id="totalRevenue">0 ‚ÇΩ</div>
            </div>
        </div>

        <div class="card">
            <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
            <p>–í—ã–ø–æ–ª–Ω–∏—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:</p>
            <button class="btn" onclick="loadCustomers()">üë• –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</button>
            <button class="btn" onclick="loadProducts()">üõí –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã</button>
            <button class="btn btn-success" onclick="createOrder()">‚ûï –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</button>
            <a href="/swagger-ui.html" class="btn" target="_blank">üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</a>
        </div>
    </div>

    <div id="customers" class="tab-content">
        <div class="card">
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º–∏</h3>
            <p>–ü—Ä–æ—Å–º–æ—Ç—Ä, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</p>
            <button class="btn" onclick="loadCustomers()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
            <button class="btn btn-success" onclick="showCustomerForm()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è</button>
        </div>

        <div id="customersList" class="card">
            <h3>–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</h3>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <div id="products" class="tab-content">
        <div class="card">
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h3>
            <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ</p>
            <button class="btn" onclick="loadProducts()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
            <button class="btn btn-success" onclick="showProductForm()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
        </div>

        <div id="productsList" class="card">
            <h3>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h3>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <div id="orders" class="tab-content">
        <div class="card">
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏</h3>
            <p>–°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤</p>
            <button class="btn" onclick="loadOrders()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫</button>
            <button class="btn btn-success" onclick="createOrder()">‚ûï –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑</button>
        </div>

        <div id="ordersList" class="card">
            <h3>–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</h3>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <div id="api" class="tab-content">
        <div class="api-info">
            <h3>üîó REST API Endpoints</h3>
            <p>–í–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ API:</p>

            <h4>–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏</h4>
            <code>GET /api/customers</code>
            <code>POST /api/customers</code>
            <code>GET /api/customers/{id}</code>
            <code>PUT /api/customers/{id}</code>
            <code>DELETE /api/customers/{id}</code>

            <h4>–¢–æ–≤–∞—Ä—ã</h4>
            <code>GET /api/products</code>
            <code>POST /api/products</code>
            <code>GET /api/products/{id}</code>
            <code>PUT /api/products/{id}</code>

            <h4>–ó–∞–∫–∞–∑—ã</h4>
            <code>GET /api/orders</code>
            <code>POST /api/orders</code>
            <code>POST /api/orders/{id}/reserve</code>
            <code>POST /api/orders/{id}/pay</code>

            <a href="/swagger-ui.html" class="btn" target="_blank">üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger</a>
        </div>
    </div>

    <footer>
        <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏ v1.0.0 | Spring Boot 4.0.0 | PostgreSQL</p>
        <p>üìß –ü–æ–¥–¥–µ—Ä–∂–∫–∞: support@ordermanagement.com</p>
    </footer>
</div>

<script>
    // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫
    function switchTab(tabName) {
        // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
        document.querySelectorAll('.tab-content').forEach(tab => {
            tab.classList.remove('active');
        });

        // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
        document.querySelectorAll('.tab').forEach(tab => {
            tab.classList.remove('active');
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
        document.getElementById(tabName).classList.add('active');

        // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É
        event.target.classList.add('active');

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
        if (tabName === 'customers') loadCustomers();
        if (tabName === 'products') loadProducts();
        if (tabName === 'orders') loadOrders();
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    async function loadStats() {
        try {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
            const customersRes = await fetch('/api/customers');
            const customers = await customersRes.json();
            document.getElementById('totalCustomers').textContent = customers.length;

            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
            const productsRes = await fetch('/api/products');
            const products = await productsRes.json();
            document.getElementById('totalProducts').textContent = products.length;

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤
            const ordersRes = await fetch('/api/orders');
            const orders = await ordersRes.json();
            document.getElementById('activeOrders').textContent = orders.length;

            // –†–∞—Å—á–µ—Ç –≤—ã—Ä—É—á–∫–∏
            let revenue = 0;
            orders.forEach(order => {
                if (order.totalAmount) revenue += order.totalAmount;
            });
            document.getElementById('totalRevenue').textContent = revenue.toLocaleString('ru-RU') + ' ‚ÇΩ';

        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:', error);
        }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
    async function loadCustomers() {
        const container = document.getElementById('customersList');
        container.innerHTML = '<h3>–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</h3><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>';

        try {
            const response = await fetch('/api/customers');
            const customers = await response.json();

            if (customers.length === 0) {
                container.innerHTML = '<h3>–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</h3><p>–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }

            let html = '<h3>–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</h3><div style="overflow-x: auto;">';
            html += '<table style="width: 100%; border-collapse: collapse; margin-top: 15px;">';
            html += '<thead><tr style="background: #f1f5f9;">';
            html += '<th style="padding: 12px; text-align: left;">ID</th>';
            html += '<th style="padding: 12px; text-align: left;">–ò–º—è</th>';
            html += '<th style="padding: 12px; text-align: left;">Email</th>';
            html += '<th style="padding: 12px; text-align: left;">–¢–µ–ª–µ—Ñ–æ–Ω</th>';
            html += '<th style="padding: 12px; text-align: left;">–î–µ–π—Å—Ç–≤–∏—è</th>';
            html += '</tr></thead><tbody>';

            customers.forEach(customer => {
                html += `<tr style="border-bottom: 1px solid #e2e8f0;">`;
                html += `<td style="padding: 12px;">${customer.id}</td>`;
                html += `<td style="padding: 12px;">${customer.name || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>`;
                html += `<td style="padding: 12px;">${customer.email || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>`;
                html += `<td style="padding: 12px;">${customer.phone || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>`;
                html += `<td style="padding: 12px;">
                    <button class="btn" onclick="viewCustomer(${customer.id})">üëÅÔ∏è</button>
                    <button class="btn btn-secondary" onclick="editCustomer(${customer.id})">‚úèÔ∏è</button>
                </td>`;
                html += `</tr>`;
            });

            html += '</tbody></table></div>';
            container.innerHTML = html;

        } catch (error) {
            container.innerHTML = `<h3>–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</h3><p style="color: #ef4444;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</p>`;
        }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
    async function loadProducts() {
        const container = document.getElementById('productsList');
        container.innerHTML = '<h3>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h3><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>';

        try {
            const response = await fetch('/api/products');
            const products = await response.json();

            if (products.length === 0) {
                container.innerHTML = '<h3>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h3><p>–¢–æ–≤–∞—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }

            let html = '<h3>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h3><div style="overflow-x: auto;">';
            html += '<table style="width: 100%; border-collapse: collapse; margin-top: 15px;">';
            html += '<thead><tr style="background: #f1f5f9;">';
            html += '<th style="padding: 12px; text-align: left;">ID</th>';
            html += '<th style="padding: 12px; text-align: left;">–ù–∞–∑–≤–∞–Ω–∏–µ</th>';
            html += '<th style="padding: 12px; text-align: left;">–¶–µ–Ω–∞</th>';
            html += '<th style="padding: 12px; text-align: left;">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>';
            html += '<th style="padding: 12px; text-align: left;">–î–µ–π—Å—Ç–≤–∏—è</th>';
            html += '</tr></thead><tbody>';

            products.forEach(product => {
                html += `<tr style="border-bottom: 1px solid #e2e8f0;">`;
                html += `<td style="padding: 12px;">${product.id}</td>`;
                html += `<td style="padding: 12px;">${product.name || '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>`;
                html += `<td style="padding: 12px;">${product.price ? product.price.toLocaleString('ru-RU') + ' ‚ÇΩ' : '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}</td>`;
                html += `<td style="padding: 12px;">${product.quantity || 0}</td>`;
                html += `<td style="padding: 12px;">
                    <button class="btn" onclick="viewProduct(${product.id})">üëÅÔ∏è</button>
                    <button class="btn btn-secondary" onclick="editProduct(${product.id})">‚úèÔ∏è</button>
                </td>`;
                html += `</tr>`;
            });

            html += '</tbody></table></div>';
            container.innerHTML = html;

        } catch (error) {
            container.innerHTML = `<h3>–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤</h3><p style="color: #ef4444;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</p>`;
        }
    }

    // –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤
    async function loadOrders() {
        const container = document.getElementById('ordersList');
        container.innerHTML = '<h3>–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</h3><p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>';

        try {
            const response = await fetch('/api/orders');
            const orders = await response.json();

            if (orders.length === 0) {
                container.innerHTML = '<h3>–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</h3><p>–ó–∞–∫–∞–∑—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>';
                return;
            }

            let html = '<h3>–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</h3><div style="overflow-x: auto;">';
            html += '<table style="width: 100%; border-collapse: collapse; margin-top: 15px;">';
            html += '<thead><tr style="background: #f1f5f9;">';
            html += '<th style="padding: 12px; text-align: left;">ID</th>';
            html += '<th style="padding: 12px; text-align: left;">–°—Ç–∞—Ç—É—Å</th>';
            html += '<th style="padding: 12px; text-align: left;">–°—É–º–º–∞</th>';
            html += '<th style="padding: 12px; text-align: left;">–î–∞—Ç–∞</th>';
            html += '<th style="padding: 12px; text-align: left;">–î–µ–π—Å—Ç–≤–∏—è</th>';
            html += '</tr></thead><tbody>';

            orders.forEach(order => {
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–≤–µ—Ç —Å—Ç–∞—Ç—É—Å–∞
                let statusColor = '#64748b';
                if (order.status === 'PAID') statusColor = '#10b981';
                if (order.status === 'CANCELLED') statusColor = '#ef4444';
                if (order.status === 'NEW') statusColor = '#3b82f6';

                html += `<tr style="border-bottom: 1px solid #e2e8f0;">`;
                html += `<td style="padding: 12px;">${order.id}</td>`;
                html += `<td style="padding: 12px;">
                    <span style="background: ${statusColor}; color: white; padding: 4px 8px; border-radius: 4px;">
                        ${order.status || '–ù–æ–≤—ã–π'}
                    </span>
                </td>`;
                html += `<td style="padding: 12px;">${order.totalAmount ? order.totalAmount.toLocaleString('ru-RU') + ' ‚ÇΩ' : '0 ‚ÇΩ'}</td>`;
                html += `<td style="padding: 12px;">${new Date(order.orderDate).toLocaleDateString('ru-RU')}</td>`;
                html += `<td style="padding: 12px;">
                    <button class="btn" onclick="viewOrder(${order.id})">üëÅÔ∏è</button>
                    <button class="btn btn-success" onclick="processOrder(${order.id})">üí∞ –û–ø–ª–∞—Ç–∏—Ç—å</button>
                </td>`;
                html += `</tr>`;
            });

            html += '</tbody></table></div>';
            container.innerHTML = html;

        } catch (error) {
            container.innerHTML = `<h3>–°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤</h3><p style="color: #ef4444;">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</p>`;
        }
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    function showCustomerForm() {
        const html = `
            <h3>–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è</h3>
            <form id="customerForm" onsubmit="return saveCustomer(event)">
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ò–º—è *</label>
                    <input type="text" name="name" required style="width: 100%; padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">Email *</label>
                    <input type="email" name="email" required style="width: 100%; padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" name="phone" style="width: 100%; padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: 600;">–ê–¥—Ä–µ—Å</label>
                    <textarea name="address" style="width: 100%; padding: 10px; border: 1px solid #cbd5e1; border-radius: 6px; min-height: 80px;"></textarea>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button type="submit" class="btn btn-success">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button type="button" class="btn btn-secondary" onclick="loadCustomers()">‚ùå –û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        `;

        document.getElementById('customersList').innerHTML = html;
    }

    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    async function saveCustomer(event) {
        event.preventDefault();
        const form = event.target;
        const formData = new FormData(form);
        const data = Object.fromEntries(formData.entries());

        try {
            const response = await fetch('/api/customers', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            });

            if (response.ok) {
                alert('‚úÖ –ü–æ–∫—É–ø–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!');
                loadCustomers();
            } else {
                const error = await response.json();
                alert(`‚ùå –û—à–∏–±–∫–∞: ${error.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`);
            }
        } catch (error) {
            alert(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
        }
    }

    // –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
    function createOrder() {
        alert('–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –∏–ª–∏ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é');
        window.open('/swagger-ui.html#/order-controller/createOrder', '_blank');
    }

    // –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
    function viewCustomer(id) {
        alert(`–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–∫—É–ø–∞—Ç–µ–ª—è ID: ${id}\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –∏–ª–∏ Swagger`);
    }

    // –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–∞
    function viewProduct(id) {
        alert(`–ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–∞ ID: ${id}\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –∏–ª–∏ Swagger`);
    }

    // –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–∞
    function viewOrder(id) {
        alert(`–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–∫–∞–∑–∞ ID: ${id}\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –∏–ª–∏ Swagger`);
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–∞
    function processOrder(id) {
        alert(`–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ ID: ${id}\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –∏–ª–∏ Swagger`);
    }

    // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.onload = function() {
        loadStats();
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
        setInterval(loadStats, 30000);
    };
</script>
</body>
</html>